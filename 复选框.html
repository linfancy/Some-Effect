<html>
<head>
	<meta charset="utf-8">
	<title>复选框（全选，反选）</title>
	<style type="text/css">
	body{
		font: 12px/1.5 Tahoma;
	}
	.wrapper{
		margin: 0 auto;
		text-align: center;
		overflow: hidden;
	}
	.checkbox{
		text-align: left;
		margin: 0 auto;
		border-radius: 5px;
		border:1px solid #000;
		padding: 10px;
		line-height: 20px;
	}
	.checkbox p:first-child{
		border-bottom: 1px solid #000;
	}
	.wrapper{
		width: 600px;
	}
	.checkbox{
		width: 100px;
	}
	</style>
	<script type="text/javascript">
	window.onload = function(){
		var oa = document.getElementsByTagName("a")[0];
		var checkAll = document.getElementById("checkAll");
		var oinput = document.getElementsByTagName("input");
		var olabel = document.getElementsByTagName("label")[0];
		var isCheckAll = function(){
			for(var i = 1, n = 0; i < oinput.length; i++){
				oinput[i].checked && n++;
			}
			oinput[0].checked = n == oinput.length - 1;
			olabel.innerHTML = oinput[0].checked ? "全不选" : "全选";
		};
		oinput[0].onclick = function(){
			for(var i = 1; i < oinput.length; i++){
				oinput[i].checked = this.checked;
			}
			isCheckAll();
		}
		oa.onclick = function(){
			for(var i = 1; i < oinput.length; i++){
				oinput[i].checked = !oinput[i].checked;
			}
			isCheckAll();
		}
		for(var i = 1; i < oinput.length; i++){
			oinput[i].onclick = function(){
				isCheckAll();
			}
		}
	}
	</script>
</head>
<body>
	<div class="wrapper">
		<div class="checkbox">
			<p><input type="checkbox" id="checkAll"><label>全选 </label><a href="#">反选</a></p>
			<p><input type="checkbox"><label>选项（一）</label></p>
			<p><input type="checkbox"><label>选项（一）</label></p>
			<p><input type="checkbox"><label>选项（一）</label></p>
			<p><input type="checkbox"><label>选项（一）</label></p>
			<p><input type="checkbox"><label>选项（一）</label></p>
			<p><input type="checkbox"><label>选项（一）</label></p>
			<p><input type="checkbox"><label>选项（一）</label></p>
		</div>
		<p>1、切换全选/全不选文字；2、根据选中个数更新全选框状态；</p>
	</div>
</body>
</html>